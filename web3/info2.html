<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>男装详情 - 潮牌服饰</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet">
<style>
.product-detail {
  display: flex;
  flex-wrap: wrap;
  margin: 20px 0;
}
.product-img {
  flex: 1;
  min-width: 300px;
  padding: 10px;
}
.product-img img {
  width: 100%;
  border-radius: 8px;
}
.product-info {
  flex: 1;
  min-width: 300px;
  padding: 20px;
}
.product-title {
  font-size: 24px;
  margin-bottom: 15px;
}
.product-price {
  font-size: 28px;
  color: #e53935;
  font-weight: bold;
  margin-bottom: 20px;
}
.product-original-price {
  text-decoration: line-through;
  color: #999;
  font-size: 16px;
  margin-left: 10px;
}
.product-desc {
  line-height: 1.8;
  margin: 20px 0;
}
.size-select {
  margin: 20px 0;
}
.size-btn {
  padding: 8px 15px;
  margin: 0 5px;
  border: 1px solid #ddd;
  border-radius: 4px;
  cursor: pointer;
}
.size-btn.active {
  background: #e53935;
  color: white;
  border-color: #e53935;
}
.add-cart {
  background: #e53935;
  color: white;
  border: none;
  padding: 12px 30px;
  font-size: 18px;
  border-radius: 4px;
  cursor: pointer;
  margin-top: 20px;
}
.product-param {
  margin-top: 40px;
  border-top: 1px solid #eee;
  padding-top: 20px;
}
.param-item {
  display: flex;
  margin: 10px 0;
}
.param-name {
  width: 100px;
  color: #999;
}
.param-value {
  flex: 1;
}
</style>
</head>
<body>
<!-- 统一样式的header（和首页一致） -->
<header class="top">
  <div class="container">
    <!-- 购物车入口 -->
    <a href="cart.html" class="pull-right mr-3" style="margin-top:20px; margin-left: 20px;">
      购物车 <span id="cartCount" class="badge">0</span>
    </a>
 
    <div class="user-actions pull-right hidden-xs" style="margin-top:20px;">
      <a href="denglu.html" class="mr-3">登录</a>
      <a href="reg.html">注册</a>
    </div>
  </div>
  <div class="search pull-right mes" onclick="op(this)">
    <input type="text" placeholder="搜索商品..." style="display:none; padding:5px; margin-top:10px;">
  </div>
  <div class="menu clearfix">
    <ul class="container">
      <li class="first"><a href="index.html" target="_self">首页</a></li>
      <li><a href="news.html" target="_self">在线新闻</a></li>
      <li><a href="guonei.html" target="_self">漂亮女装</a></li>
      <li class="active"><a href="jinkou.html" target="_self">帅气男装</a></li>
      <li><a href="remai.html" target="_self">潮流服装</a></li>
      <li><a href="reg.html" target="_self">注册</a></li>
    </ul>
  </div>
</header>

<script>
// 搜索框交互（和首页一致）
function op(ele) {
  const input = ele.querySelector('input');
  input.style.display = input.style.display === 'none' ? 'block' : 'none';
  if (input.style.display === 'block') input.focus();
}

// 更新购物车数量
function updateCartCount() {
  const cart = localStorage.getItem('cart');
  const count = cart ? JSON.parse(cart).reduce((t, i) => t + i.quantity, 0) : 0;
  document.getElementById('cartCount').textContent = count;
}
</script>

<div class="clearfix"></div>
<div class="container bod mt-3">
  
  <div class="product-detail">
    <!-- 商品图片 -->
    <div class="product-img" id="productImg">
      <img src="images/tt1.jpg" alt="休闲工装夹克">
    </div>
    
    <!-- 商品信息 -->
    <div class="product-info">
      <h1 class="product-title" id="productTitle">休闲工装夹克</h1>
      <div class="product-price">
        ¥<span id="productPrice">359</span>
        <span class="product-original-price" id="originalPrice">¥499</span>
      </div>
      
      <div class="product-desc" id="productDesc">
        <p>精选水洗工装面料，耐磨抗皱，穿着舒适。</p>
        <p>宽松版型不挑身材，多种口袋设计增加实用性。</p>
        <p>简约工装风格，适合日常休闲、户外出行等场合。</p>
      </div>
      
      <!-- 尺码选择 -->
      <div class="size-select">
        <p>选择尺码：</p>
        <button class="size-btn active">M</button>
        <button class="size-btn">L</button>
        <button class="size-btn">XL</button>
        <button class="size-btn">XXL</button>
      </div>
      
      <!-- 加入购物车按钮 -->
      <button class="add-cart" onclick="addToCart()">加入购物车</button>
    </div>
  </div>
  
  <!-- 商品参数 -->
  <div class="product-param">
    <h3>商品参数</h3>
    <div class="param-item">
      <div class="param-name">面料</div>
      <div class="param-value" id="fabric">纯棉工装布</div>
    </div>
    <div class="param-item">
      <div class="param-name">版型</div>
      <div class="param-value" id="version">宽松</div>
    </div>
    <div class="param-item">
      <div class="param-name">袖长</div>
      <div class="param-value" id="sleeve">长袖</div>
    </div>
    <div class="param-item">
      <div class="param-name">厚度</div>
      <div class="param-value" id="thickness">常规</div>
    </div>
    <div class="param-item">
      <div class="param-name">洗涤方式</div>
      <div class="param-value">建议冷水洗涤，不可漂白，低温熨烫</div>
    </div>
  </div>
</div>

<!-- 底部 -->
<div class="Footer-wrapper text-center mt-5">
  <div class="fcr">© 2025 潮牌服饰 版权所有</div>
</div>

<script>
// 男装商品数据
const maleProductDetail = [
  {
    id: 1,
    img: "images/tt1.jpg",
    title: "休闲工装牛仔服",
    price: 359,
    originalPrice: 499,
    desc: `<p>精选水洗工装面料，耐磨抗皱，穿着舒适。</p>
           <p>宽松版型不挑身材，多种口袋设计增加实用性。</p>
           <p>简约工装风格，适合日常休闲、户外出行等场合。</p>`,
    fabric: "纯棉工装布",
    version: "宽松",
    sleeve: "长袖",
    thickness: "常规"
  },
  {
    id: 2,
    img: "images/tt2.jpg",
    title: "纯棉印花外套",
    price: 129,
    originalPrice: "",
    desc: `<p>100%精梳棉面料，柔软亲肤，吸汗透气。</p>
           <p>个性印花设计，时尚潮流，不撞款。</p>
           <p>常规版型，修身不紧绷，适合日常穿着。</p>`,
    fabric: "100%精梳棉",
    version: "常规",
    sleeve: "短袖",
    thickness: "薄款"
  },
  {
    id: 3,
    img: "images/tt3.jpg",
    title: "联名款棒球服",
    price: 259,
    originalPrice: 329,
    desc: `<p>高弹牛仔面料，舒适不勒，活动自如。</p>
           <p>修身版型修饰腿型，显高又显瘦。</p>
           <p>经典水洗工艺，不易掉色，耐穿耐看。</p>`,
    fabric: "牛仔布（棉98% + 氨纶2%）",
    version: "修身",
    sleeve: "-",
    thickness: "常规"
  },
  {
    id: 4,
    img: "images/tt4.jpg",
    title: "黑色印花短袖",
    price: 199,
    originalPrice: "",
    desc: `<p>冰丝面料，凉爽透气，夏季穿着不闷热。</p>
           <p>简约黑色设计，百搭不挑风格，可搭配牛仔裤、休闲裤。</p>
           <p>修身版型，凸显身材，适合年轻男士。</p>`,
    fabric: "冰丝面料",
    version: "修身",
    sleeve: "短袖",
    thickness: "薄款"
  },
  {
    id: 5,
    img: "images/tt5.jpg",
    title: "潮流短袖",
    price: 279,
    originalPrice: "",
    desc: `<p>加绒面料，柔软保暖，适合春秋冬季穿着。</p>
           <p>连帽设计，增加时尚感，休闲又百搭。</p>
           <p>宽松版型，活动自如，适合健身、居家、日常出行。</p>`,
    fabric: "加绒棉料",
    version: "宽松",
    sleeve: "长袖",
    thickness: "加厚"
  },
  {
    id: 6,
    img: "images/tt9.jpg",
    title: "休闲格子T恤",
    price: 459,
    originalPrice: 599,
    desc: `<p>混纺面料，垂坠感好，不易起皱。</p>
           <p>休闲西装版型，正式又不呆板，适合商务休闲场合。</p>
           <p>修身剪裁，凸显身材，提升气质。</p>`,
    fabric: "聚酯纤维65% + 粘胶35%",
    version: "修身",
    sleeve: "长袖",
    thickness: "常规"
  },
  {
    id: 7,
    img: "images/tt7.jpg",
    title: "韩式防风外套",
    price: 329,
    originalPrice: "",
    desc: `<p>速干面料，吸汗透气，适合运动健身穿着。</p>
           <p>套装设计，不用费心搭配，省时又省力。</p>
           <p>宽松版型，活动自如，适合各种运动场景。</p>`,
    fabric: "速干面料（聚酯纤维90% + 氨纶10%）",
    version: "宽松",
    sleeve: "长袖",
    thickness: "常规"
  },
  {
    id: 8,
    img: "images/tt8.jpg",
    title: "夏季短袖",
    price: 239,
    originalPrice: 299,
    desc: `<p>免烫面料，易打理，不用熨烫也平整。</p>
           <p>经典商务设计，适合职场、正式场合穿着。</p>
           <p>修身版型，凸显身材，提升专业形象。</p>`,
    fabric: "纯棉免烫面料",
    version: "修身",
    sleeve: "长袖",
    thickness: "常规"
  }
];

// 获取URL参数
function getUrlParam(name) {
  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`);
  const r = window.location.search.substr(1).match(reg);
  return r ? decodeURIComponent(r[2]) : 1;
}

// 渲染商品详情
function renderProductDetail() {
  const productId = parseInt(getUrlParam('id')) || 1;
  const product = maleProductDetail.find(item => item.id === productId) || maleProductDetail[0];
  
  document.getElementById('productImg').innerHTML = `<img src="${product.img}" alt="${product.title}">`;
  document.getElementById('productTitle').textContent = product.title;
  document.getElementById('productPrice').textContent = product.price;
  document.getElementById('originalPrice').textContent = product.originalPrice ? `¥${product.originalPrice}` : '';
  document.getElementById('originalPrice').style.display = product.originalPrice ? 'inline' : 'none';
  document.getElementById('productDesc').innerHTML = product.desc;
  document.getElementById('fabric').textContent = product.fabric;
  document.getElementById('version').textContent = product.version;
  document.getElementById('sleeve').textContent = product.sleeve;
  document.getElementById('thickness').textContent = product.thickness;
  
  // 存储当前商品信息
  window.currentProduct = {
    id: product.id,
    img: product.img,
    name: product.title,
    price: product.price,
    quantity: 1
  };
}

// 加入购物车
function addToCart() {
  const cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];
  const product = window.currentProduct;
  
  // 检查商品是否已在购物车
  const existingItem = cart.find(item => item.id === product.id);
  if (existingItem) {
    existingItem.quantity += 1;
  } else {
    cart.push(product);
  }
  
  // 保存到本地存储
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();
  alert('加入购物车成功！');
}

// 尺码选择交互
document.querySelectorAll('.size-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
  });
});

// 页面加载初始化
window.onload = function() {
  renderProductDetail();
  updateCartCount();
};
</script>
</body>
</html>