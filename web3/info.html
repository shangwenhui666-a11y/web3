<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>商品详情 - 潮牌服饰</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet">
<style>
.product-detail {
  display: flex;
  flex-wrap: wrap;
  margin: 20px 0;
}
.product-img {
  flex: 1;
  min-width: 300px;
  padding: 10px;
}
.product-img img {
  width: 100%;
  border-radius: 8px;
}
.product-info {
  flex: 1;
  min-width: 300px;
  padding: 20px;
}
.product-title {
  font-size: 24px;
  margin-bottom: 15px;
}
.product-price {
  font-size: 28px;
  color: #e53935;
  font-weight: bold;
  margin-bottom: 20px;
}
.product-original-price {
  text-decoration: line-through;
  color: #999;
  font-size: 16px;
  margin-left: 10px;
}
.product-desc {
  line-height: 1.8;
  margin: 20px 0;
}
.size-select {
  margin: 20px 0;
}
.size-btn {
  padding: 8px 15px;
  margin: 0 5px;
  border: 1px solid #ddd;
  border-radius: 4px;
  cursor: pointer;
}
.size-btn.active {
  background: #e53935;
  color: white;
  border-color: #e53935;
}
.add-cart {
  background: #e53935;
  color: white;
  border: none;
  padding: 12px 30px;
  font-size: 18px;
  border-radius: 4px;
  cursor: pointer;
  margin-top: 20px;
}
.product-param {
  margin-top: 40px;
  border-top: 1px solid #eee;
  padding-top: 20px;
}
.param-item {
  display: flex;
  margin: 10px 0;
}
.param-name {
  width: 100px;
  color: #999;
}
.param-value {
  flex: 1;
}
</style>
</head>
<body>
<!-- 统一样式的header（和首页一致） -->
<header class="top">
  <div class="container">
    <!-- 购物车入口 -->
    <a href="cart.html" class="pull-right mr-3" style="margin-top:20px; margin-left: 20px;">
      购物车 <span id="cartCount" class="badge">0</span>
    </a>
 
    <div class="user-actions pull-right hidden-xs" style="margin-top:20px;">
      <a href="denglu.html" class="mr-3">登录</a>
      <a href="reg.html">注册</a>
    </div>
  </div>
  <div class="search pull-right mes" onclick="op(this)">
    <input type="text" placeholder="搜索商品..." style="display:none; padding:5px; margin-top:10px;">
  </div>
  <div class="menu clearfix">
    <ul class="container">
      <li class="first"><a href="index.html" target="_self">首页</a></li>
      <li><a href="news.html" target="_self">在线新闻</a></li>
      <li class="active"><a href="guonei.html" target="_self">漂亮女装</a></li>
      <li><a href="jinkou.html" target="_self">帅气男装</a></li>
      <li><a href="remai.html" target="_self">潮流服装</a></li>
      <li><a href="reg.html" target="_self">注册</a></li>
    </ul>
  </div>
</header>

<script>
// 搜索框交互（和首页一致）
function op(ele) {
  const input = ele.querySelector('input');
  input.style.display = input.style.display === 'none' ? 'block' : 'none';
  if (input.style.display === 'block') input.focus();
}

// 更新购物车数量
function updateCartCount() {
  const cart = localStorage.getItem('cart');
  const count = cart ? JSON.parse(cart).reduce((t, i) => t + i.quantity, 0) : 0;
  document.getElementById('cartCount').textContent = count;
}
</script>

<div class="clearfix"></div>
<div class="container bod mt-3">
  
  <div class="product-detail">
    <!-- 商品图片 -->
    <div class="product-img" id="productImg">
      <img src="images/cp1.jpg" alt="商品图片">
    </div>
    
    <!-- 商品信息 -->
    <div class="product-info">
      <h1 class="product-title" id="productTitle">夏季碎花连衣裙</h1>
      <div class="product-price">
        ¥<span id="productPrice">159</span>
        <span class="product-original-price" id="originalPrice">¥259</span>
      </div>
      
      <div class="product-desc" id="productDesc">
        <p>精选优质面料，亲肤透气，夏季穿着凉爽舒适。</p>
        <p>碎花设计清新甜美，收腰版型修饰身材，显瘦又百搭。</p>
        <p>适合日常出行、约会、度假等多种场合。</p>
      </div>
      
      <!-- 尺码选择 -->
      <div class="size-select">
        <p>选择尺码：</p>
        <button class="size-btn active">S</button>
        <button class="size-btn">M</button>
        <button class="size-btn">L</button>
        <button class="size-btn">XL</button>
      </div>
      
      <!-- 加入购物车按钮 -->
      <button class="add-cart" onclick="addToCart()">加入购物车</button>
    </div>
  </div>
  
  <!-- 商品参数 -->
  <div class="product-param">
    <h3>商品参数</h3>
    <div class="param-item">
      <div class="param-name">面料</div>
      <div class="param-value" id="fabric">聚酯纤维95% + 氨纶5%</div>
    </div>
    <div class="param-item">
      <div class="param-name">版型</div>
      <div class="param-value" id="version">修身</div>
    </div>
    <div class="param-item">
      <div class="param-name">袖长</div>
      <div class="param-value" id="sleeve">短袖</div>
    </div>
    <div class="param-item">
      <div class="param-name">长度</div>
      <div class="param-value" id="length">中长款</div>
    </div>
    <div class="param-item">
      <div class="param-name">洗涤方式</div>
      <div class="param-value">建议手洗，不可漂白，低温熨烫</div>
    </div>
  </div>
</div>

<!-- 底部 -->
<div class="Footer-wrapper text-center mt-5">
  <div class="fcr">© 2025 潮牌服饰 版权所有</div>
</div>

<script>
// 女装商品数据（和原有列表对应）
const femaleProductDetail = [
  {
    id: 1,
    img: "images/cp5.jpg",
    title: "欧美长款包臀裙",
    price: 149,
    originalPrice: '',
    desc: `<p>精选优质面料，亲肤透气，夏季穿着凉爽舒适。</p>
           <p>碎花设计清新甜美，收腰版型修饰身材，显瘦又百搭。</p>
           <p>适合日常出行、约会、度假等多种场合。</p>`,
    fabric: "聚酯纤维95% + 氨纶5%",
    version: "修身",
    sleeve: "衬衫",
    length: "中长款"
  },
  {
    id: 2,
    img: "images/bb1.jpg",
    title: "猫猫联名连衣裙",
    price: 219,
    originalPrice: "",
    desc: `<p>100%纯棉面料，柔软亲肤，吸汗透气。</p>
           <p>宽松版型不挑身材，遮肉显瘦，适合各种体型。</p>
           <p>简约纯色设计，百搭不挑风格，可搭配牛仔裤、短裤、半身裙。</p>`,
    fabric: "100%纯棉",
    version: "宽松",
    sleeve: "外套",
    length: "常规款"
  },
  {
    id: 3,
    img: "images/cp7.jpg",
    title: "夏季雪纺休闲套装",
    price: 259,
    originalPrice: '',
    desc: `<p>精选牛仔面料，柔软有弹性，穿着舒适不勒。</p>
           <p>高腰设计拉长腿部比例，显高又显瘦。</p>
           <p>毛边设计增加时尚感，夏季搭配T恤、衬衫都合适。</p>`,
    fabric: "牛仔布（棉98% + 氨纶2%）",
    version: "修身",
    sleeve: "-",
    length: "套装"
  },
  {
    id: 4,
    img: "images/cp4.jpg",
    title: "休闲阔腿裤",
    price: 169,
    originalPrice: "",
    desc: `<p>冰丝面料，垂坠感好，夏季穿着凉爽不闷热。</p>
           <p>阔腿版型修饰腿型，遮肉显瘦，适合腿粗的姐妹。</p>
           <p>高腰设计提升腰线，视觉上拉长腿部比例。</p>`,
    fabric: "冰丝面料",
    version: "宽松",
    sleeve: "-",
    length: "长裤"
  },
  {
    id: 5,
    img: "images/cp5.jpg",
    title: "复古风衬衫",
    price: 149,
    originalPrice: "",
    desc: `<p>天丝面料，轻薄透气，垂坠感佳。</p>
           <p>复古翻领设计，增加时尚感，可单穿也可外搭。</p>
           <p>宽松版型不挑身材，适合日常通勤、休闲穿搭。</p>`,
    fabric: "天丝面料",
    version: "宽松",
    sleeve: "长袖",
    length: "常规款"
  },
  {
    id: 6,
    img: "images/bb1.jpg",
    title: "针织开衫外套",
    price: 219,
    originalPrice: "",
    desc: `<p>精纺羊毛面料，柔软亲肤，保暖性好。</p>
           <p>简约开衫设计，百搭不挑风格，可搭配T恤、吊带、连衣裙。</p>
           <p>宽松版型，遮肉显瘦，适合春秋季节穿着。</p>`,
    fabric: "羊毛80% + 锦纶20%",
    version: "宽松",
    sleeve: "长袖",
    length: "常规款"
  },
  {
    id: 7,
    img: "images/baby.jpg",
    title: "挂脖白裙",
    price: 129,
    originalPrice: "199",
    desc: `<p>速干面料，吸汗透气，适合运动休闲穿着。</p>
           <p>套装设计，不用费心搭配，省时又省力。</p>
           <p>宽松版型，活动自如，适合健身、居家、日常出行。</p>`,
    fabric: "速干面料（聚酯纤维90% + 氨纶10%）",
    version: "宽松",
    sleeve: "长袖",
    length: "长裤"
  },
  {
    id: 8,
    img: "images/cp4.jpg",
    title: "复古咖色大衣套装",
    price: 169,
    originalPrice: "",
    desc: `<p>加绒卫衣面料，柔软保暖，穿着舒适。</p>
           <p>连衣裙设计，简约大方，不用搭配，懒人必备。</p>
           <p>宽松版型，遮肉显瘦，适合秋冬季节穿着。</p>`,
    fabric: "加绒棉料",
    version: "宽松",
    sleeve: "长袖",
    length: "中长款"
  }
];

// 获取URL参数
function getUrlParam(name) {
  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`);
  const r = window.location.search.substr(1).match(reg);
  return r ? decodeURIComponent(r[2]) : 1;
}

// 渲染商品详情
function renderProductDetail() {
  const productId = parseInt(getUrlParam('id')) || 1;
  const product = femaleProductDetail.find(item => item.id === productId) || femaleProductDetail[0];
  
  document.getElementById('productImg').innerHTML = `<img src="${product.img}" alt="${product.title}">`;
  document.getElementById('productTitle').textContent = product.title;
  document.getElementById('productPrice').textContent = product.price;
  document.getElementById('originalPrice').textContent = product.originalPrice ? `¥${product.originalPrice}` : '';
  document.getElementById('originalPrice').style.display = product.originalPrice ? 'inline' : 'none';
  document.getElementById('productDesc').innerHTML = product.desc;
  document.getElementById('fabric').textContent = product.fabric;
  document.getElementById('version').textContent = product.version;
  document.getElementById('sleeve').textContent = product.sleeve;
  document.getElementById('length').textContent = product.length;
  
  // 存储当前商品信息（供加入购物车使用）
  window.currentProduct = {
    id: product.id,
    img: product.img,
    name: product.title,
    price: product.price,
    quantity: 1
  };
}

// 加入购物车
function addToCart() {
  const cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];
  const product = window.currentProduct;
  
  // 检查商品是否已在购物车
  const existingItem = cart.find(item => item.id === product.id);
  if (existingItem) {
    existingItem.quantity += 1;
  } else {
    cart.push(product);
  }
  
  // 保存到本地存储
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();
  alert('加入购物车成功！');
}

// 尺码选择交互
document.querySelectorAll('.size-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
  });
});

// 页面加载初始化
window.onload = function() {
  renderProductDetail();
  updateCartCount();
};
</script>
</body>
</html>